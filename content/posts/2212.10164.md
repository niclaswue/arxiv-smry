---
title: "Multi-asset market making under the quadratic rough Heston"
date: 2022-12-20T11:07:54.000Z
author: "Mathieu Rosenbaum, Jianfei Zhang"
weight: 2
showToc: true
TocOpen: true
draft: false
hidemeta: false
comments: false
description: "Important disclaimer: the following content is AI-generated, please make sure to fact check the presented information by reading the full paper."
disableHLJS: true # to disable highlightjs
disableShare: false
hideSummary: false
searchHidden: false
ShowReadingTime: false
ShowBreadCrumbs: false
ShowPostNavLinks: false
ShowWordCount: true
ShowRssButtonInSectionTermList: false
UseHugoToc: false
cover:
    image: "thumbnails/2212-10164v1.webp" # image path/url
    alt: "Multi-asset market making under the quadratic rough Heston" # alt text
    caption: "The full paper is available [here](https://arxiv.org/abs/2212.10164)." # display caption under cover
    relative: false # when using page bundles set this to true
    hidden: false # only hide on current single page
---

# Link to paper
The full paper is available [here](https://arxiv.org/abs/2212.10164).

You can also find the paper on PapersWithCode [here](https://paperswithcode.com/paper/multi-asset-market-making-under-the-quadratic).

# Abstract
- A quadratic rough Heston model is used to model the joint behavior of SPX and VIX
- A market maker is trying to maximize their profit from spread capturing while controlling the portfolio's inventory risk
- The optimization problem is high dimensional and is relaxed by several approximations
- An asymptotic closed-form solution is obtained
- Numerical experiments are used to illustrate the accuracy and relevance of the approximations

# Paper Content

## Introduction
- Constant volatility assumption in Black-Scholes model is not consistent with empirical observations
- Stochastic volatility models can reproduce stylized facts of historical data
- Implied volatility surfaces generated by conventional models differ from empirical observations
- Rough volatility paradigm brings new solutions that achieve superior fits of implied volatility surfaces
- Quadratic rough Heston (QRH) model models price of asset and its spot variance
- QRH model encodes Zumbach effect
- Price returns largely explain volatility
- QRH model gives opportunities to model SPX derivatives
- Market making problem is formulated as dynamic programming problem
- Mean-variance type objective function is considered
- Multi-asset market making problem is exposed to curse of dimensionality
- Factor decomposition and deep neural networks are used to reduce dimension of problem
- Closed-form approximations are obtained by replacing Hamiltonian functions with quadratic ones
- Market maker decides whether to submit limit orders at best limits or get immediate execution using market orders
- Market maker tries to maximize expected gain from spread capturing while controlling inventory risk

### Multi-factor approximation of the qrh model
- Multi-factor approximation of the QRH model introduced in [28]
- Model is Markovian
- Prices of derivatives can be obtained as a function of the risk-neutral measure
- Vanilla SPX and VIX options can be computed using neural networks
- PDE can be solved using deep learning

### Multi-asset market making
- Problem is considered over a period of time T
- Market maker decides whether to make a market at the limits P j t plus/minus one-half tick size
- Two point processes modeling the number of transactions at the bid and ask size
- Dynamics of the inventory process (q j t ) t∈[0,T ] of asset j is given by
- Dynamics of the cash process (Y t ) t∈[0,T ] of the market maker is given by
- Objective function of the market maker is to maximize expected terminal wealth while penalizing inventory risk
- Value function has (2 + n + d) variables

### The hamilton-jacobi-bellman equations
- QRH model has multidimensional nature
- Approximation reduces dimensionality
- Time horizon of problem is relatively short
- Numerical tests on simulated and market data show effectiveness of daily hedging
- Market maker can reset algorithm with updated parameters
- Value function satisfies q j s δ j ) 2 ds
- HJB equation associated with problem is given by system of ODEs
- Existence and uniqueness of solution of equation with terminal condition is given
- Optimal market making decisions are given by verification argument
- When market maker controls only portfolio's net risk, variable q can be summarized with one variable

### Quadratic approximation
- Equation (3.2) is difficult to solve with classical numerical methods
- Approximate Hamiltonian functions with quadratic ones to obtain closed-form solution
- Most of the development follows the same methodologies as in [6]
- Approximated Hamiltonian functions have Ĥj,k (0) = H j,k (0) and ( Ĥj,k ) (0) = (H j,k ) (0)
- Approximated solution can be written as a quadratic function of q
- Focus on asymptotic formulas of A and B
- Optimal decisions can be simplified
- Problem can be extended to cover other limits

### Daily hedging with spx
- Discrete hedging is used to evaluate the relevance of the QRH model and the idea of using constant δ t.
- Cumulative profit of discrete hedging is given by an equation.
- QRH model is calibrated with market data and δj t k is computed by neural networks.
- Hedging portfolios can follow the market price's evolution with daily rebalancing.
- High-frequency hedging is not mandatory to obtain satisfactory results.

### Example 3
- Market making problem is tested on six assets
- Risk mutualization is considered
- Performance and risk of uni-asset and multi-asset strategies are tested with varying risk penalization parameter

## Multi-factor approximation of the qrh model
- Multi-factor approximation of the QRH model introduced in [28]
- Model is Markovian
- Prices of derivatives can be obtained as a function of the risk-neutral measure
- Vanilla SPX and VIX options can be computed using neural networks
- PDE can be solved using deep learning

## Multi-asset market making
- Problem is considered over a period of time T
- Market maker decides whether to make a market at the limits P j t plus/minus one-half tick size
- Two point processes modeling the number of transactions at the bid and ask size
- Dynamics of the inventory process (q j t ) t∈[0,T ] of asset j is given by
- Dynamics of the cash process (Y t ) t∈[0,T ] of the market maker is given by
- Objective function of the market maker is to maximize expected terminal wealth while penalizing inventory risk
- Value function has (2 + n + d) variables

## The hamilton-jacobi-bellman equations
- QRH model has multidimensional nature, so dimensionality is reduced with an approximation
- Approximation allows for constant drift µ
- Numerical tests on simulated and market data show effectiveness of daily hedging
- Market maker can reset algorithm with updated parameters in case of significant market movement
- Value function u(•) is transformed to one with (1 + d) variables
- HJB equation associated with (3.1) is given by a system of ODEs
- Existence and uniqueness of a solution of (3.2) with terminal condition (3.3) is given
- Optimal market making decisions in the problem (3.1) are given by a verification argument
- When market maker controls only portfolio's net risk, variable q can be summarized with one variable

## Quadratic approximation
- Equation (3.2) is difficult to solve with classical numerical methods
- Approximate Hamiltonian functions with quadratic ones to obtain closed-form solution
- Most of the development follows the same methodologies as in [6]
- Approximated Hamiltonian functions have Ĥj,k (0) = H j,k (0) and ( Ĥj,k ) (0) = (H j,k ) (0)
- Approximated solution can be written as a quadratic function of q
- Focus on asymptotic formulas of A and B
- Optimal decisions can be simplified
- Problem can be extended to cover other limits

## Daily hedging with spx
- Discrete hedging is used to evaluate the relevance of the QRH model and the idea of using constant δ t.
- Cumulative profit of discrete hedging is given by an equation.
- QRH model is calibrated with market data and δj t k is computed by neural networks.
- Hedging portfolios can follow the market price's evolution with daily rebalancing.
- High-frequency hedging is not mandatory to obtain satisfactory results.

## Market making approximation

## Example 1
- Assessed proposed quadratic approximation
- Two-asset example with SPX and VIX future
- Parameters of QRH model taken
- Neural network approximating pricing function of VIX future
- Market making parameters considered
- Classical Euler scheme to approximate true value function
- Time does not play crucial role for optimal controls
- Quadratic approximation checked
- Backtests conducted on simulated data with different risk aversion preferences

## Example 2
- Four assets under consideration
- Value function θ defined in Equation (3.5)
- Quadratic approximation method used
- Backtests used to perceive effectiveness of approximated solution

## Example 3
- Market making problem is tested on six assets
- Risk mutualization is considered
- Performance and risk of uni-asset and multi-asset strategies are tested with varying risk penalization parameter
